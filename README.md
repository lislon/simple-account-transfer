Simple Account Transfer
=======================

Demo project to demonstrate simple API without using `Spring` framework on `JDK8`.

API features: 
 - List/Adding of existing accounts
 - Currency transferring between them

The project was build with
 - Jersey (REST Framework)
 - hk2 (Dependency Injection)
 - junit/mockito (unit testing)
 - google thread weaver (unit testing - multi-threading)
 - jersey-test-framework-provider-inmemory (integration testing)
 - swagger (automatic documentation generation)

Building
========

```batch
gradle build
```

Running
=======
```batch
gradle run
```

The app will run on [http://localhost:8080/](http://localhost:8080/docs)

Trying it out
=============

The API has autogenerated swagger documentation.
When program is running, navigate to [http://localhost:8080/docs](http://localhost:8080/docs),
then select API method and click `Try it out` buttons.

API endpoints
=============


#### Show all accounts

Request:

``` http
GET http://localhost:8080/api/accounts
```

Example response:

``` http
HTTP/1.1 200 OK

[ {
  "id" : 1,
  "balance" : 100
}, {
  "id" : 2,
  "balance" : 200
} ]
```

#### Show single account details

Request:

``` http
GET http://localhost:8080/api/accounts/1
```

Example response:

``` http
HTTP/1.1 200 OK

{
  "id" : 2,
  "balance" : 200
}
```

Example error:

``` http
HTTP/1.1 404 NOT FOUND

{
  "message" : "Account with identifier 3 not found",
  "code" : 4
}
```

#### Add new account

Request:

``` http
POST http://localhost:8080/api/accounts

{
  "id": 0,
  "balance": 100
}
```

Response:

``` http
HTTP/1.1 201 ADDED
{
  "id": 3,
  "balance": 100
}
```

#### Transfer funds from one account to another

Request:

``` http
http://localhost:8080/api/transactions

{
  "senderAccountId": 1,
  "receiverAccountId": 2,
  "amount": 10
}
```

Response:

``` http
HTTP/1.1 200 OK
{
  "status": "SUCCESS"
}
```

Example error:

``` http
HTTP/1.1 409 CONFLICT
{
  "message": "Client doesn't have enough funds",
  "code": 1
}
```
